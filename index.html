<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/index.css" />

    <title>Frontend Mentor | Job Listings</title>
  </head>
  <body>
    <header>
      <img src="./images/bg-header-desktop.svg" />
    </header>

    <div id="job-list">
      <script>
        main();

        async function main() {
          const data = await getData();

          const jobList = document.querySelector("#job-list");

          for (const i of data) {
            jobList.innerHTML += `<div class="job-item-wrapper">
                  <div class="job-item-inner">
                    <div class="job-img">
                      <img src=${i.logo} alt=${i.company} />
                    </div>
                    <div class="job-desc">
                      <div class='job-desc-inner'>
                        <div class='company-name'>
                          ${i.company}
                        </div>
                        <div class='tag-list'>
                          ${
                            i.new
                              ? `<button class="tag-title title-new">NEWS</button>`
                              : ``
                          }
                          ${
                            i.featured
                              ? `<button class="tag-title title-feauture">FEATURED</button>`
                              : ``
                          }
                        </div>
                      </div>

                      <div class='position-info'>
                        ${i.position}
                      </div>

                      <div class='info-optional'>
                        <span>${i.postedAt}</span>
                        <span>${i.contract}</span>
                        <span>${i.location}</span>
                      </div>
                    </div>
                  </div>
                  
                  <div class='languages'>
                    ${i.languages
                      .map((e) => `<button class="tag-btn">${e}</button>`)
                      .join("")}
                  </div>
                </div>`;
          }
        }

        async function getData() {
          const res = await fetch("./data.json");
          const data = await res.json();

          return data;
        }
      </script>
    </div>
  </body>
</html>
